<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://blog.fgribreau.com/2011/07/week-end-project-nodejs-language.html">languagedetect (v1.1.1)</a>
</h1>
<h4>Nodejs language detection library using n-gram</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect">module languagedetect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.languagedetect">
            function <span class="apidocSignatureSpan"></span>languagedetect
            <span class="apidocSignatureSpan">(languageType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect">
            function <span class="apidocSignatureSpan">languagedetect.</span>LanguageDetect
            <span class="apidocSignatureSpan">(languageType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser">
            function <span class="apidocSignatureSpan">languagedetect.</span>Parser
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.</span>ISO639</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.</span>LanguageDetect.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.</span>Parser.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect.ISO639">module languagedetect.ISO639</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.ISO639.getCode2">
            function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getCode2
            <span class="apidocSignatureSpan">(lang)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.ISO639.getCode3">
            function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getCode3
            <span class="apidocSignatureSpan">(lang)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.ISO639.getName2">
            function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getName2
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.ISO639.getName3">
            function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getName3
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.ISO639.</span>code2ToName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.ISO639.</span>code3ToName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.ISO639.</span>nameToCode2</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">languagedetect.ISO639.</span>nameToCode3</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect.LanguageDetect">module languagedetect.LanguageDetect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.LanguageDetect">
            function <span class="apidocSignatureSpan">languagedetect.</span>LanguageDetect
            <span class="apidocSignatureSpan">(languageType)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect.LanguageDetect.prototype">module languagedetect.LanguageDetect.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.detect">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>detect
            <span class="apidocSignatureSpan">(sample, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.distance">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>distance
            <span class="apidocSignatureSpan">(arr1, arr2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.getLanguageCount">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>getLanguageCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.getLanguages">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>getLanguages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.normalizeScore">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>normalizeScore
            <span class="apidocSignatureSpan">(score, baseCount)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.LanguageDetect.prototype.setLanguageType">
            function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>setLanguageType
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect.Parser">module languagedetect.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.Parser">
            function <span class="apidocSignatureSpan">languagedetect.</span>Parser
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.languagedetect.Parser.prototype">module languagedetect.Parser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.analyze">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>analyze
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.arrRank">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>arrRank
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.bubleSort">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>bubleSort
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.getBlockCount">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getBlockCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.getTrigramRanks">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getTrigramRanks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.getUnicodeBlocks">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getUnicodeBlocks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.setPadStart">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>setPadStart
            <span class="apidocSignatureSpan">(bool)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.sortFunc">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>sortFunc
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.languagedetect.Parser.prototype.unicodeBlockName">
            function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>unicodeBlockName
            <span class="apidocSignatureSpan">(unicode, blockCount)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect" id="apidoc.module.languagedetect">module languagedetect</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.languagedetect" id="apidoc.element.languagedetect.languagedetect">
        function <span class="apidocSignatureSpan"></span>languagedetect
        <span class="apidocSignatureSpan">(languageType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">languagedetect = function (languageType) {

<span class="apidocCodeCommentSpan">  /**
   * The trigram data for comparison
   *
   * Will be loaded on start from $this-&gt;_db_filename
   *
   * May be set to a PEAR_Error object if there is an error during its
   * initialization
   *
   * @var      array
   * @access   private
   */
</span>  this.langDb = {};

  /**
   * The size of the trigram data arrays
   *
   * @var     int
   * @access  private
   */
  this.threshold = 300;

  this.useUnicodeNarrowing = true;

  /**
   * Constructor
   *
   * Load the language database.
   *
   */
  this.langDb = dbLang['trigram'];
  this.unicodeMap = dbLang['trigram-unicodemap'];

  this.languageType = languageType || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect" id="apidoc.element.languagedetect.LanguageDetect">
        function <span class="apidocSignatureSpan">languagedetect.</span>LanguageDetect
        <span class="apidocSignatureSpan">(languageType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LanguageDetect = function (languageType) {

<span class="apidocCodeCommentSpan">  /**
   * The trigram data for comparison
   *
   * Will be loaded on start from $this-&gt;_db_filename
   *
   * May be set to a PEAR_Error object if there is an error during its
   * initialization
   *
   * @var      array
   * @access   private
   */
</span>  this.langDb = {};

  /**
   * The size of the trigram data arrays
   *
   * @var     int
   * @access  private
   */
  this.threshold = 300;

  this.useUnicodeNarrowing = true;

  /**
   * Constructor
   *
   * Load the language database.
   *
   */
  this.langDb = dbLang['trigram'];
  this.unicodeMap = dbLang['trigram-unicodemap'];

  this.languageType = languageType || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser" id="apidoc.element.languagedetect.Parser">
        function <span class="apidocSignatureSpan">languagedetect.</span>Parser
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (string) {
<span class="apidocCodeCommentSpan">  /**
   * The size of the trigram data arrays
   *
   * @access   private
   * @var      int
   */
</span>  this.threshold = 300;

  /**
   * stores the trigram ranks of the sample
   *
   * @access  private
   * @var     array
   */
  this.trigramRanks = {};

  /**
   * Whether the parser should compile trigrams
   *
   * @access  private
   * @var     bool
   */
  this.compileTrigram = true;

  this.compileUnicode = true;
  this.unicodeSkipAscii = true;
  this.unicodeBlocks = {};

  /**
   * Whether the trigram parser should pad the beginning of the string
   *
   * @access  private
   * @var     bool
   */
  this.trigramPadStart = false;

  this.trigram = {};

  /**
   * the piece of text being parsed
   *
   * @access  private
   * @var     string
   */

  /**
   * Constructor
   *
   * @access  private
   * @param   string  string to be parsed
   */
  this.string = string ? string.replace(/[~!@#$%^&amp;*()_|+\-=?;:",.&lt;&gt;\{\}\[\]\\\/]/g, ' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect.ISO639" id="apidoc.module.languagedetect.ISO639">module languagedetect.ISO639</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.ISO639.getCode2" id="apidoc.element.languagedetect.ISO639.getCode2">
        function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getCode2
        <span class="apidocSignatureSpan">(lang)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCode2 = function (lang) {
  return Languages.nameToCode2[String(lang).toLowerCase()] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var scoresLength = scores.length;

if (!scoresLength) return [];

switch (me.languageType) {
  case 'iso2':
    for (i = scoresLength; i--;) {
      scores[i][0] = ISO639.<span class="apidocCodeKeywordSpan">getCode2</span>(scores[i][0]);
    }
    break;
  case 'iso3':
    for (i = scoresLength; i--;) {
      scores[i][0] = ISO639.getCode3(scores[i][0]);
    }
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.ISO639.getCode3" id="apidoc.element.languagedetect.ISO639.getCode3">
        function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getCode3
        <span class="apidocSignatureSpan">(lang)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCode3 = function (lang) {
  return Languages.nameToCode3[String(lang).toLowerCase()] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case 'iso2':
      for (i = scoresLength; i--;) {
        scores[i][0] = ISO639.getCode2(scores[i][0]);
      }
      break;
    case 'iso3':
      for (i = scoresLength; i--;) {
        scores[i][0] = ISO639.<span class="apidocCodeKeywordSpan">getCode3</span>(scores[i][0]);
      }
      break;
  }

  // limit the number of returned scores
  return limit &gt; 0 ? scores.slice(0, limit) : scores;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.ISO639.getName2" id="apidoc.element.languagedetect.ISO639.getName2">
        function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getName2
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getName2 = function (code) {
  return Languages.code2ToName[String(code).toLowerCase()] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  t.equal(ISO639.getCode3('dANiSH'), 'dan');
  t.equal(ISO639.getCode3('unknown'), null);

  return t.done();
};

exports.getName2 = function (t) {
  t.equal(ISO639.<span class="apidocCodeKeywordSpan">getName2</span>('en'), 'english');
  t.equal(ISO639.getName2('ru'), 'russian');
  t.equal(ISO639.getName2('da'), 'danish');
  t.equal(ISO639.getName2(null), null);

  return t.done();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.ISO639.getName3" id="apidoc.element.languagedetect.ISO639.getName3">
        function <span class="apidocSignatureSpan">languagedetect.ISO639.</span>getName3
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getName3 = function (code) {
  return Languages.code3ToName[String(code).toLowerCase()] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  t.equal(ISO639.getName2('da'), 'danish');
  t.equal(ISO639.getName2(null), null);

  return t.done();
};

exports.getName3 = function (t) {
  t.equal(ISO639.<span class="apidocCodeKeywordSpan">getName3</span>('eng'), 'english');
  t.equal(ISO639.getName3('rus'), 'russian');
  t.equal(ISO639.getName3('dan'), 'danish');
  t.equal(ISO639.getName3(null), null);

  return t.done();
};
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect.LanguageDetect" id="apidoc.module.languagedetect.LanguageDetect">module languagedetect.LanguageDetect</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.LanguageDetect" id="apidoc.element.languagedetect.LanguageDetect.LanguageDetect">
        function <span class="apidocSignatureSpan">languagedetect.</span>LanguageDetect
        <span class="apidocSignatureSpan">(languageType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LanguageDetect = function (languageType) {

<span class="apidocCodeCommentSpan">  /**
   * The trigram data for comparison
   *
   * Will be loaded on start from $this-&gt;_db_filename
   *
   * May be set to a PEAR_Error object if there is an error during its
   * initialization
   *
   * @var      array
   * @access   private
   */
</span>  this.langDb = {};

  /**
   * The size of the trigram data arrays
   *
   * @var     int
   * @access  private
   */
  this.threshold = 300;

  this.useUnicodeNarrowing = true;

  /**
   * Constructor
   *
   * Load the language database.
   *
   */
  this.langDb = dbLang['trigram'];
  this.unicodeMap = dbLang['trigram-unicodemap'];

  this.languageType = languageType || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect.LanguageDetect.prototype" id="apidoc.module.languagedetect.LanguageDetect.prototype">module languagedetect.LanguageDetect.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.detect" id="apidoc.element.languagedetect.LanguageDetect.prototype.detect">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>detect
        <span class="apidocSignatureSpan">(sample, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detect = function (sample, limit) {
  var me = this
    , scores = [];

  limit = +limit || 0;

  if (sample == '' || String(sample).length &lt; 3) return [];

  var sampleObj = new Parser(sample);
  sampleObj.setPadStart(true);
  sampleObj.analyze();

  var trigramFreqs = sampleObj.getTrigramRanks()
    , trigramCount = Object.keys(trigramFreqs).length;

  if (trigramCount == 0) return [];

  var keys = [], i, lang;

  if (this.useUnicodeNarrowing) {
    var blocks = sampleObj.getUnicodeBlocks()
      , languages = Object.keys(blocks)
      , keysLength = languages.length;

    for (i = keysLength; i--;) {
      if (this.unicodeMap[languages[i]]) {
        for (lang in this.unicodeMap[languages[i]]) {
          if (!~keys.indexOf(lang)) keys.push(lang);
        }
      }
    }
  } else {
    keys = me.getLanguages();
  }

  for (i = keys.length; i--;) {
    var score = me.normalizeScore(me.distance(me.langDb[keys[i]], trigramFreqs), trigramCount);
    if (score) scores.push([keys[i], score]);
  }

  // Sort the array
  scores.sort(function (a, b) { return b[1] - a[1]; });
  var scoresLength = scores.length;

  if (!scoresLength) return [];

  switch (me.languageType) {
    case 'iso2':
      for (i = scoresLength; i--;) {
        scores[i][0] = ISO639.getCode2(scores[i][0]);
      }
      break;
    case 'iso3':
      for (i = scoresLength; i--;) {
        scores[i][0] = ISO639.getCode3(scores[i][0]);
      }
      break;
  }

  // limit the number of returned scores
  return limit &gt; 0 ? scores.slice(0, limit) : scores;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var LanguageDetect = require('languagedetect');
var lngDetector = new LanguageDetect();

// OR
// var lngDetector = new (require('languagedetect'));

console.log(lngDetector.<span class="apidocCodeKeywordSpan">detect</span>('This is a test.'));

/*
  [ [ 'english', 0.5969230769230769 ],
  [ 'hungarian', 0.407948717948718 ],
  [ 'latin', 0.39205128205128204 ],
  [ 'french', 0.367948717948718 ],
  [ 'portuguese', 0.3669230769230769 ],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.distance" id="apidoc.element.languagedetect.LanguageDetect.prototype.distance">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>distance
        <span class="apidocSignatureSpan">(arr1, arr2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">distance = function (arr1, arr2) {
  var me = this
    , sumdist = 0
    , keys = Object.keys(arr2)
    , i;

  for (i = keys.length; i--;) {
    sumdist += arr1[keys[i]] ? Math.abs(arr2[keys[i]] - arr1[keys[i]]) : me.threshold;
  }

  return sumdist;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
} else {
  keys = me.getLanguages();
}

for (i = keys.length; i--;) {
  var score = me.normalizeScore(me.<span class="apidocCodeKeywordSpan">distance</span>(me.langDb[keys[i]], trigramFreqs), trigramCount
);
  if (score) scores.push([keys[i], score]);
}

// Sort the array
scores.sort(function (a, b) { return b[1] - a[1]; });
var scoresLength = scores.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.getLanguageCount" id="apidoc.element.languagedetect.LanguageDetect.prototype.getLanguageCount">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>getLanguageCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLanguageCount = function () {
  return this.getLanguages().length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
t.equal(clean(l.normalizeScore(39920, 143)), 0.0694638694639);
t.equal(clean(l.normalizeScore(41657, 143)), 0.0289743589744);

return t.done();
};

exports.getLanguageCount = function (t) {
t.equal(new LanguageDetect().<span class="apidocCodeKeywordSpan">getLanguageCount</span>(), 52);

return t.done();
};

exports.detectShortString = function(t) {
var l = new LanguageDetect();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.getLanguages" id="apidoc.element.languagedetect.LanguageDetect.prototype.getLanguages">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>getLanguages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLanguages = function () {
  return Object.keys(this.langDb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Returns the number of languages that this object can detect
 *
 * @access public
 * @return int the number of languages
 */
getLanguageCount:function () {
  return this.<span class="apidocCodeKeywordSpan">getLanguages</span>().length;
},

setLanguageType:function (type) {
  return this.languageType = type;
},

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.normalizeScore" id="apidoc.element.languagedetect.LanguageDetect.prototype.normalizeScore">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>normalizeScore
        <span class="apidocSignatureSpan">(score, baseCount)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalizeScore = function (score, baseCount) {
  return 1 - (score / (baseCount || this.threshold) / this.threshold);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
} else {
  keys = me.getLanguages();
}

for (i = keys.length; i--;) {
  var score = me.<span class="apidocCodeKeywordSpan">normalizeScore</span>(me.distance(me.langDb[keys[i]], trigramFreqs), trigramCount
);
  if (score) scores.push([keys[i], score]);
}

// Sort the array
scores.sort(function (a, b) { return b[1] - a[1]; });
var scoresLength = scores.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.LanguageDetect.prototype.setLanguageType" id="apidoc.element.languagedetect.LanguageDetect.prototype.setLanguageType">
        function <span class="apidocSignatureSpan">languagedetect.LanguageDetect.prototype.</span>setLanguageType
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setLanguageType = function (type) {
  return this.languageType = type;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect.Parser" id="apidoc.module.languagedetect.Parser">module languagedetect.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.Parser.Parser" id="apidoc.element.languagedetect.Parser.Parser">
        function <span class="apidocSignatureSpan">languagedetect.</span>Parser
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (string) {
<span class="apidocCodeCommentSpan">  /**
   * The size of the trigram data arrays
   *
   * @access   private
   * @var      int
   */
</span>  this.threshold = 300;

  /**
   * stores the trigram ranks of the sample
   *
   * @access  private
   * @var     array
   */
  this.trigramRanks = {};

  /**
   * Whether the parser should compile trigrams
   *
   * @access  private
   * @var     bool
   */
  this.compileTrigram = true;

  this.compileUnicode = true;
  this.unicodeSkipAscii = true;
  this.unicodeBlocks = {};

  /**
   * Whether the trigram parser should pad the beginning of the string
   *
   * @access  private
   * @var     bool
   */
  this.trigramPadStart = false;

  this.trigram = {};

  /**
   * the piece of text being parsed
   *
   * @access  private
   * @var     string
   */

  /**
   * Constructor
   *
   * @access  private
   * @param   string  string to be parsed
   */
  this.string = string ? string.replace(/[~!@#$%^&amp;*()_|+\-=?;:",.&lt;&gt;\{\}\[\]\\\/]/g, ' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.languagedetect.Parser.prototype" id="apidoc.module.languagedetect.Parser.prototype">module languagedetect.Parser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.analyze" id="apidoc.element.languagedetect.Parser.prototype.analyze">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>analyze
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">analyze = function () {
  var len = this.string.length
    , byteCounter = 0
    , a = ' ', b = ' '
    , dropone, c;

  if (this.compileUnicode) {
    var blocksCount = dbUnicodeBlocks.length;
  }

  // trigram startup
  if (this.compileTrigram) {
    // initialize them as blank so the parser will skip the first two
    // (since it skips trigrams with more than  2 contiguous spaces)
    a = ' ';
    b = ' ';

    // kludge
    // if it finds a valid trigram to start and the start pad option is
    // off, then set a variable that will be used to reduce this
    // trigram after parsing has finished
    if (!this.trigramPadStart) {
      a = this.string.charAt(byteCounter++).toLowerCase();

      if (a != ' ') {
        b = this.string.charAt(byteCounter).toLowerCase();
        dropone = ' ' + a + b;
      }

      byteCounter = 0;
      a = ' ';
      b = ' ';
    }
  }

  var skippedCount = 0;
  var unicodeChars = {};

  while (byteCounter &lt; len) {
    c = this.string.charAt(byteCounter++).toLowerCase();

    // language trigram detection
    if (this.compileTrigram) {
      if (!(b == ' ' &amp;&amp; (a == ' ' || c == ' '))) {
        var abc = a + b + c;
        this.trigram[abc] = this.trigram[abc] ? this.trigram[abc] += 1 : 1;
      }

      a = b;
      b = c;
    }

    if (this.compileUnicode) {
      var charCode = c.charCodeAt(0);

      if (this.unicodeSkipAscii
        &amp;&amp; c.match(/[a-z ]/i)
        &amp;&amp; (charCode &lt; 65 || charCode &gt; 122 || (charCode &gt; 90 &amp;&amp; charCode &lt; 97))
        &amp;&amp; c != "'") {

        skippedCount++;
        continue;
      }

      unicodeChars[c] = unicodeChars[c] ? unicodeChars[c] += 1 : 1;
    }
  }

  this.unicodeBlocks = {};

  if (this.compileUnicode) {
    var keys = Object.keys(unicodeChars)
      , keysLength = keys.length;

    for (var i = keysLength; i--;) {
      var unicode = keys[i].charCodeAt(0)
        , count = unicodeChars[keys[i]]
        , search = this.unicodeBlockName(unicode, blocksCount)
        , blockName = search != -1 ? search[2] : '[Malformatted]';

      this.unicodeBlocks[blockName] = this.unicodeBlocks[blockName] ? this.unicodeBlocks[blockName] += count : count;
    }
  }

  // trigram cleanup
  if (this.compileTrigram) {
    // pad the end
    if (b != ' ') {
      var ab = a + b + ' ';
      this.trigram[ab] = this.trigram[ab] ? this.trigram[ab] += 1 : 1;
    }

    // perl compatibility; Language::Guess does not pad the beginning
    // kludge
    if (typeof dropone != 'undefined' &amp;&amp; this.trigram[dropone] == 1) {
      delete this.trigram[dropone];
    }

    if (this.trigram &amp;&amp; Object.keys(this.trigram).length &gt; 0) {
      this.trigramRanks = this.arrRank(this.trigram);
    } else {
      this.trigramRanks = {};
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

limit = +limit || 0;

if (sample == '' || String(sample).length &lt; 3) return [];

var sampleObj = new Parser(sample);
sampleObj.setPadStart(true);
sampleObj.<span class="apidocCodeKeywordSpan">analyze</span>();

var trigramFreqs = sampleObj.getTrigramRanks()
  , trigramCount = Object.keys(trigramFreqs).length;

if (trigramCount == 0) return [];

var keys = [], i, lang;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.arrRank" id="apidoc.element.languagedetect.Parser.prototype.arrRank">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>arrRank
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">arrRank = function (arr) {

  // sorts alphabetically first as a standard way of breaking rank ties
  arr = this.bubleSort(arr);

  var rank = {}, i = 0;

  for (var key in arr) {
    rank[key] = i++;

    // cut off at a standard threshold
    if (i &gt;= this.threshold) {
      break;
    }
  }

  return rank;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // perl compatibility; Language::Guess does not pad the beginning
    // kludge
    if (typeof dropone != 'undefined' &amp;&amp; this.trigram[dropone] == 1) {
      delete this.trigram[dropone];
    }

    if (this.trigram &amp;&amp; Object.keys(this.trigram).length &gt; 0) {
      this.trigramRanks = this.<span class="apidocCodeKeywordSpan">arrRank</span>(this.trigram);
    } else {
      this.trigramRanks = {};
    }
  }
},

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.bubleSort" id="apidoc.element.languagedetect.Parser.prototype.bubleSort">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>bubleSort
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bubleSort = function (arr) {
  // should do the same as this perl statement:
  // sort { $trigrams{$b} == $trigrams{$a} ?  $a cmp $b : $trigrams{$b} &lt;=&gt; $trigrams{$a} }

  // needs to sort by both key and value at once
  // using the key to break ties for the value

  // converts array into an array of arrays of each key and value
  // may be a better way of doing this
  var combined = [];

  for (var key in arr) {
    combined.push([key, arr[key]]);
  }

  combined = combined.sort(this.sortFunc);

  var replacement = {};

  var length = combined.length;

  for (var i = 0; i &lt; length; i++) {
    replacement[combined[i][0]] = combined[i][1];
  }

  return replacement;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   * @access  protected
   * @param   arr     array of trgram
   * @return  object  ranks of trigrams
   */
  arrRank: function (arr) {

    // sorts alphabetically first as a standard way of breaking rank ties
    arr = this.<span class="apidocCodeKeywordSpan">bubleSort</span>(arr);

    var rank = {}, i = 0;

    for (var key in arr) {
rank[key] = i++;

// cut off at a standard threshold
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.getBlockCount" id="apidoc.element.languagedetect.Parser.prototype.getBlockCount">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getBlockCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBlockCount = function () {
  return dbUnicodeBlocks.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('nodeunit');

var Parser = require('../lib/Parser');
var str = 'from SW HOUSTON to #PVnation SOPHOMORE STATUS Just A Soul Whose Intentions Are Good Self-expression should always
 b limitless if that bothers u...dont follow me';

exports.getBlockCount = function (t) {
t.equal((new Parser()).<span class="apidocCodeKeywordSpan">getBlockCount</span>(), 145);

return t.done();
};

exports.analyse = function (t) {
var l = new Parser();
l.string = str;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.getTrigramRanks" id="apidoc.element.languagedetect.Parser.prototype.getTrigramRanks">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getTrigramRanks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTrigramRanks = function () {
  return this.trigramRanks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (sample == '' || String(sample).length &lt; 3) return [];

var sampleObj = new Parser(sample);
sampleObj.setPadStart(true);
sampleObj.analyze();

var trigramFreqs = sampleObj.<span class="apidocCodeKeywordSpan">getTrigramRanks</span>()
  , trigramCount = Object.keys(trigramFreqs).length;

if (trigramCount == 0) return [];

var keys = [], i, lang;

if (this.useUnicodeNarrowing) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.getUnicodeBlocks" id="apidoc.element.languagedetect.Parser.prototype.getUnicodeBlocks">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>getUnicodeBlocks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUnicodeBlocks = function () {
  return this.unicodeBlocks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
, trigramCount = Object.keys(trigramFreqs).length;

    if (trigramCount == 0) return [];

    var keys = [], i, lang;

    if (this.useUnicodeNarrowing) {
var blocks = sampleObj.<span class="apidocCodeKeywordSpan">getUnicodeBlocks</span>()
  , languages = Object.keys(blocks)
  , keysLength = languages.length;

for (i = keysLength; i--;) {
  if (this.unicodeMap[languages[i]]) {
    for (lang in this.unicodeMap[languages[i]]) {
      if (!~keys.indexOf(lang)) keys.push(lang);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.setPadStart" id="apidoc.element.languagedetect.Parser.prototype.setPadStart">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>setPadStart
        <span class="apidocSignatureSpan">(bool)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setPadStart = function (bool) {
  this.trigramPadStart = bool || true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  , scores = [];

limit = +limit || 0;

if (sample == '' || String(sample).length &lt; 3) return [];

var sampleObj = new Parser(sample);
sampleObj.<span class="apidocCodeKeywordSpan">setPadStart</span>(true);
sampleObj.analyze();

var trigramFreqs = sampleObj.getTrigramRanks()
  , trigramCount = Object.keys(trigramFreqs).length;

if (trigramCount == 0) return [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.sortFunc" id="apidoc.element.languagedetect.Parser.prototype.sortFunc">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>sortFunc
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sortFunc = function (a, b) {
  // each is actually a key/value pair, so that it can compare using both
  var aKey = a[0]
    , aValue = a[1]
    , bKey = b[0]
    , bValue = b[1];

  // if the values are the same, break ties using the key
  if (aValue == bValue) {
    return aKey.localeCompare(bKey);
  } else {
    return aValue &gt; bValue ? -1 : 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
return t.done();
};

exports.sortFunc = function (t) {
var l = new Parser();

t.equal(l.<span class="apidocCodeKeywordSpan">sortFunc</span>([" go", 1], ["fro", 1]), -70);
t.equal(l.sortFunc(["me ", 1], [" go", 1]), 77);
t.equal(l.sortFunc([" me", 1], [" go", 1]), 6);
t.equal(l.sortFunc(["w m", 1], [" go", 1]), 87);
t.equal(l.sortFunc(["ow ", 1], [" go", 1]), 79);
t.equal(l.sortFunc(["low", 1], [" go", 1]), 76);
t.equal(l.sortFunc(["llo", 1], [" go", 1]), 76);
t.equal(l.sortFunc(["oll", 1], [" go", 1]), 79);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.languagedetect.Parser.prototype.unicodeBlockName" id="apidoc.element.languagedetect.Parser.prototype.unicodeBlockName">
        function <span class="apidocSignatureSpan">languagedetect.Parser.prototype.</span>unicodeBlockName
        <span class="apidocSignatureSpan">(unicode, blockCount)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unicodeBlockName = function (unicode, blockCount) {
  if (unicode &lt;= dbUnicodeBlocks[0][1]) {
    return dbUnicodeBlocks[0];
  }

  var high = blockCount ? blockCount - 1 : dbUnicodeBlocks.length
    , low = 1
    , mid;

  while (low &lt;= high) {
    mid = Math.floor((low + high) / 2);

    if (unicode &lt; dbUnicodeBlocks[mid][0]) {
      high = mid - 1;
    } else if (unicode &gt; dbUnicodeBlocks[mid][1]) {
      low = mid + 1;
    } else {
      return dbUnicodeBlocks[mid];
    }
  }

  return -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.compileUnicode) {
  var keys = Object.keys(unicodeChars)
    , keysLength = keys.length;

  for (var i = keysLength; i--;) {
    var unicode = keys[i].charCodeAt(0)
      , count = unicodeChars[keys[i]]
      , search = this.<span class="apidocCodeKeywordSpan">unicodeBlockName</span>(unicode, blocksCount)
      , blockName = search != -1 ? search[2] : '[Malformatted]';

    this.unicodeBlocks[blockName] = this.unicodeBlocks[blockName] ? this.unicodeBlocks[blockName] += count : count;
  }
}

// trigram cleanup
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>